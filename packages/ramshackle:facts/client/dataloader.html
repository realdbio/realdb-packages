<template name="dataLoader">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">1. Paste your data below</h3>
                </div>
                <div class="panel-body">
                    <ul>
                        <li>Each row represents a different thing (city, leader, star, species, exhibit, athlete, ...)</li>
                        <li>Copy your data as Comma-Separated (<b>CSV</b>) or Tab-Separated (<b>TSV</b>) or Semicolon-delimited values: For most spreadsheet programs, just highlight the data and <b>Ctrl-C</b> or <b>Command-C</b>.</li>
                        <li>Include column headers in the first row.</li>
                        <li>Paste the data below.</li>
                    </ul>
                    {{> dataTextArea }}
                </div>
            </div>
        </div>


    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">2. What types of "thing" are you loading?</h3>
                </div>
                <div class="panel-body">
                    {{> typeChooserCreator }}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">3. What is in each column?</h3>
                </div>
                <div class="panel-body">
                    {{> columnMapper }}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">4. When were these values valid?</h3>
                </div>
                <div class="panel-body">
                    {{> datePickers }}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 text-center">
            <!--<div class="panel panel-info">-->
                <!--<div class="panel-heading">-->
                    <!--<h3 class="panel-title">1. Paste your data below</h3>-->
                <!--</div>-->
                <div class="center-block">
                    <a href="#" class="btn btn-lg {{importButtonClass}}" role="button" id="importButton">Import</a>
                </div>
            <!--</div>-->
        </div>


    </div>
</template>


<template name="dataTextArea">
    <div class="container">
    <div class="row">
        <div class="col-md-11">
            <form role="dataTextAreaForm">
                <div class="form-group">
                    <textarea class="form-control" rows="4"></textarea>
                </div>
            </form>
        </div>
        <div class="col-md-1">
            {{> dataloaderOKButton sessionVariable="dataTextAreaContents" }}
        </div>
    </div>
    </div>
</template>

<template name="typeChooserCreator">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                {{> esInput index="types" placeholder="Search..." id="typeChooser" }}
            </div>
            <div class="col-md-4">
                {{#ifEsHasNoResults index="types" id="typeChooser" }}
                    <div class="no-results">Create new type:
                        <button type="button" class="btn-sm {{ typeButtonClass }} realdb-type-btn" id="newType">
                            <span class="glyphicon glyphicon-{{ getIconForType }}"></span> {{newTypeName}}
                        </button>
                    </div>
                {{/ifEsHasNoResults}}
            </div>
            <div class="col-md-1">
                {{> dataloaderOKButton sessionVariable="selectedTypeId" }}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                {{#ifEsIsSearching index="types" id="typeChooser" }}
                    <div>Searching...</div>
                {{/ifEsIsSearching}}

                {{#esEach index="types" id="typeChooser"}}
                <div class="item">
                    <button type="button" class="btn-sm {{ typeButtonClass }} realdb-type-btn" id="{{_id}}">
                        <span class="glyphicon glyphicon-{{ getIconForType }}"></span> {{name}}
                    </button>
                </div>
                {{/esEach}}
            </div>
        </div>
    </div>
</template>

<template name="dataloaderOKButton">
    <button class="{{#if session sessionVariable }}btn btn-large btn-success{{else}}hidden{{/if}}">
        <span class="glyphicon glyphicon-ok"></span>
    </button>
</template>



<template name="columnMapper">
    {{#each session "dataColumns"}}
        <div class="row">
            <div class="col-md-1">
                {{header}}
            </div>
            <div class="col-md-10">

                <div class="form-group">
                    <form role="form" class="form-inline">
                        <select class="form-control">
                            <option value="title" {{ isSelected "title" }}>the Name</option>
                            <option value="description" {{ isSelected "description" }}>a Description</option>
                            <option value="synonym" {{ isSelected "synonym" }}>a Synonym</option>
                            <option value="datum" {{ isSelected "datum" }}>a Value</option>
                            <option value="ignore" {{ isSelected "ignore" }}>Ignore this column</option>
                        </select>
                    </form>
                </div>

            </div>

            <div class="col-md-1">
                {{> dataloaderOKButton sessionVariable="dataColumns" }}
            </div>
        </div>
    {{/each}}
</template>



<template name="datePickers">
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                <h2>From</h2>
            </div>
            <div class="col-md-4">

                <div class="input-group datetimepicker" id="startDate">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    <input class="set-due-date form-control" type="text" name="startDatePicker" id="startDatePicker"/>
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="beginningOfTime" id="beginningOfTime">the beginning of time
                    </label>
                </div>
            </div>
            <div class="col-md-1">
                <h2>to</h2>
            </div>
            <div class="col-md-4">
                <div class="input-group datetimepicker" id="endDate">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    <input class="set-due-date form-control datepicker" type="text" name="endDatePicker" id="endDatePicker"/>
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="eternity" id="eternity">eternity
                    </label>
                </div>
            </div>

            <div class="col-md-1">
                {{> dataloaderOKButton sessionVariable="datesSpecified" }}
            </div>
        </div>

        <!--<div class="row">-->
            <!--<div class="col-md-2">-->
                <!--<input type="radio" name="datePickerOption" value="fromTo"> From-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
                <!--<div class="input-group datetimepicker">-->
                    <!--<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>-->
                    <!--<input class="set-due-date form-control" type="text"/>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="col-md-1">-->
                <!--to-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
                <!--<div class="input-group datetimepicker">-->
                    <!--<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>-->
                    <!--<input class="set-due-date form-control" type="text"/>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="row">-->
            <!--<div class="col-md-2">-->
                <!--<input type="radio" name="datePickerOption" value="everAfter"> From-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
                <!--<div class="input-group datetimepicker">-->
                    <!--<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>-->
                    <!--<input class="set-due-date form-control" type="text"/>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="col-md-1">-->
                <!--to-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
                <!--eternity-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="row">-->
            <!--<div class="col-md-2">-->
                <!--<input type="radio" name="datePickerOption" value="upTo"> From-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
                <!--the beginning of time-->
            <!--</div>-->
            <!--<div class="col-md-1">-->
                <!--to-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
                <!--<div class="input-group datetimepicker">-->
                    <!--<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>-->
                    <!--<input class="set-due-date form-control" type="text"/>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->

    </div>
</template>